{"version":3,"sources":["assets/images/user_photo.png","hoc/withAuthRedirect.js","components/Content/Profile/ProfileInfo/ProfileInfo.module.css","components/Content/Profile/Posts/Post/Post.module.css","components/Content/Profile/Posts/NewPostForm.module.css","components/Content/Profile/Profile.module.css","components/Content/Profile/ProfileInfo/ProfileStatus.jsx","components/Content/Profile/ProfileInfo/ProfileInfo.jsx","components/Content/Profile/Posts/Post/Post.jsx","components/Content/Profile/Posts/NewPostForm.jsx","components/Content/Profile/Posts/Posts.jsx","components/Content/Profile/Posts/PostsContainer.jsx","components/Content/Profile/Profile.jsx","components/Content/Profile/ProfileContainer.jsx","components/common/Fields/FieldElement.jsx","components/common/Fields/Fields.module.css"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","ProfileStatus","editMode","status","userStatus","enableEditMode","setState","disableEditMode","updateStatus","onStatusChange","e","currentTarget","value","prevProps","onChange","onBlur","autoFocus","onDoubleClick","ProfileInfo","userProfile","Preloader","className","styles","profile_info","src","photos","large","userPhoto","profile_img","alt","fullName","toUpperCase","aboutMe","obj","key","isHasProperties","contacts","facebook","href","instagram","Post","content","postText","like","likesCount","NewPostForm","validate","Yup","newPostBody","max","min","initialValues","onSubmit","addNewPost","validationSchema","FieldElement","name","component","placeholder","type","addpost_btn","Posts","postsElements","posts","map","p","id","values","addPost","posts_list","PostsContainer","profilePage","newPostText","Profile","ProfileContainer","userId","match","params","authorizeduserId","history","push","getProfile","getStatus","compose","setUserProfile","withRouter","useField","field","meta","touched","error","is_invalid","error_message"],"mappings":"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","file":"static/js/4.c6829137.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user_photo.c5d8a3f8.png\";","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({isAuth: state.auth.isAuth});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_img\":\"ProfileInfo_profile_img__2vLkK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__1HBpV\",\"content\":\"Post_content__1PPzj\",\"like\":\"Post_like__9p0nE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addpost_btn\":\"NewPostForm_addpost_btn__1Iwc8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"Profile_Profile__1_zxC\"};","import React from \"react\";\r\n\r\nclass ProfileStatus extends React.Component {\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.userStatus\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.userStatus !== this.props.userStatus) {\r\n            this.setState({\r\n                status: this.props.userStatus\r\n            });\r\n        }\r\n    }\r\n\r\n    enableEditMode = () => {\r\n        this.setState({\r\n            editMode: true\r\n        });\r\n    }\r\n\r\n    disableEditMode = () => {\r\n        this.setState({\r\n            editMode: false\r\n        });\r\n        this.props.updateStatus(this.state.status);\r\n    }\r\n\r\n    onStatusChange = (e) => {\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {!this.state.editMode\r\n                    ? <div>\r\n                        <span onDoubleClick={this.enableEditMode}><b>Status: </b>{this.props.userStatus}</span>\r\n                    </div>\r\n                    : <div>\r\n                        <input onChange={this.onStatusChange} value={this.state.status} onBlur={this.disableEditMode} autoFocus={true}/>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileStatus;","import React from 'react';\r\nimport Preloader from \"../../../common/Preloader/Preloader\";\r\nimport styles from './ProfileInfo.module.css';\r\nimport userPhoto from '../../../../assets/images/user_photo.png';\r\nimport ProfileStatus from './ProfileStatus';\r\n\r\nconst ProfileInfo = props => {\r\n    if (!props.userProfile) {\r\n        return <Preloader/>\r\n    }\r\n    const isHasProperties = (obj) => {\r\n        for (var key in obj) {\r\n            if (obj[key] !== null && obj[key] !== \"\") {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    return (\r\n        <div className={styles.profile_info}>\r\n            <img src={props.userProfile.photos.large || userPhoto} className={styles.profile_img} alt='...'/>\r\n            <h3>{props.userProfile.fullName.toUpperCase()}</h3>\r\n            <ProfileStatus userStatus={props.userStatus} updateStatus={props.updateStatus}/>\r\n            {props.userProfile.aboutMe ? <p><b>About me: </b> {props.userProfile.aboutMe}</p> : null}\r\n            {isHasProperties(props.userProfile.contacts)\r\n                ? <p>Contacts:</p>\r\n                : null\r\n            }\r\n            <ul>\r\n                {props.userProfile.contacts.facebook\r\n                    ? <li><a href={props.userProfile.contacts.facebook}>facebook</a></li>\r\n                    : null\r\n                }\r\n                {props.userProfile.contacts.instagram\r\n                    ? <li><a href={props.userProfile.contacts.instagram}>instagram</a></li>\r\n                    : null\r\n                }\r\n            </ul>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport styles from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={styles.Post}>\r\n            <div className={styles.content}>\r\n                <p>💡 {props.postText}</p>\r\n            </div>\r\n            <span className={styles.like}>👍 {props.likesCount}</span>\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\nexport default Post;","import React from \"react\";\r\nimport {Form, Formik} from \"formik\";\r\nimport * as Yup from 'yup';\r\nimport FieldElement from \"../../../common/Fields/FieldElement\";\r\nimport styles from './NewPostForm.module.css';\r\n\r\nconst NewPostForm = props => {\r\n    const validate = Yup.object({\r\n        newPostBody: Yup.string()\r\n            .max(50, 'Too Long!')\r\n            .min(2, 'Too Short!')\r\n    })\r\n\r\n    return (\r\n        <Formik initialValues={{newPostBody: ''}} onSubmit={props.addNewPost} validationSchema={validate}>\r\n            {() => (\r\n                <div className={styles.NewPostForm}>\r\n                    <h2>Create idea</h2>\r\n                    <Form>\r\n                        <FieldElement name='newPostBody' component='textarea' placeholder='Enter your post text'/>\r\n                        <div>\r\n                            <button type='submit' className={styles.addpost_btn}>Add idea 💡</button>\r\n                        </div>\r\n                    </Form>\r\n                </div>\r\n            )}\r\n        </Formik>\r\n    )\r\n};\r\n\r\nexport default NewPostForm;","import React from 'react';\r\nimport styles from './Posts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport NewPostForm from \"./NewPostForm\";\r\n\r\nconst Posts = (props) => {\r\n\r\n    let postsElements = props.posts.map(p => <Post postText={p.postText} likesCount={p.likesCount} key={p.id}/>);\r\n\r\n    const addNewPost = (values) => {\r\n        props.addPost(values.newPostBody);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.Posts}>\r\n            <NewPostForm addNewPost={addNewPost}/>\r\n            <div className={styles.posts_list}>\r\n                <h2>My ideas</h2>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Posts;","import {addPost} from \"../../../../redux/reducers/profile-reducer\";\r\nimport Posts from \"./Posts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    };\r\n}\r\n\r\nconst PostsContainer = connect(mapStateToProps, {addPost})(Posts);\r\n\r\nexport default PostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport PostsContainer from \"./Posts/PostsContainer\";\r\nimport styles from './Profile.module.css';\r\n\r\nconst Profile = props => {\r\n    return (\r\n        <div className={styles.Profile}>\r\n            <ProfileInfo userProfile={props.userProfile} userStatus={props.userStatus} updateStatus={props.updateStatus}/>\r\n            <hr/>\r\n            <PostsContainer/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfile, getStatus, setUserProfile, updateStatus} from \"../../../redux/reducers/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizeduserId\r\n            if (!userId) {\r\n                this.props.history.push('/login');\r\n            }\r\n        }\r\n        this.props.getProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} userProfile={this.props.userProfile} userStatus={this.props.userStatus} updateStatus={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userProfile: state.profilePage.userProfile,\r\n        userStatus: state.profilePage.userStatus,\r\n        authorizeduserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {setUserProfile, getProfile, getStatus, updateStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer);","import {ErrorMessage, Field, useField} from \"formik\";\r\nimport React from \"react\";\r\nimport styles from './Fields.module.css';\r\n\r\nconst FieldElement = props => {\r\n    const [field, meta] = useField(props);\r\n    return (\r\n        <>\r\n            <Field {...field} {...props}\r\n                   className={meta.touched && meta.error ? styles.is_invalid : null}\r\n                   placeholder={props.placeholder}\r\n                   component={props.component}\r\n                   type={props.type}\r\n            />\r\n            <ErrorMessage name={field.name} className={styles.error_message} component='div'/>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default FieldElement;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"is_invalid\":\"Fields_is_invalid__2daNH\",\"error_message\":\"Fields_error_message__1Foy8\"};"],"sourceRoot":""}